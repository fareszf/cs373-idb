{% extends "base.html" %}
{% block head %}
{{ super() }}
{% endblock %}


{% block body %}
<div class="fullscreen-bg-senate">
    <!-- <img src="static/img/senate.jpg"/> -->
</div>
<h1 align="center">Senate</h1>
<div class="container">
    <div class="table-responsive" id = "senate">
        <!-- <table class="table table-striped">
            <thead>
                <tr>
                    <th>Firstname</th>
                    <th>Lastname</th>
                    <th>Age</th>
                    <th>Party</th>
                    <th>State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><a href='/senator/id/1'>Lamar</a></td>
                    <td><a href='/senator/id/1'>Alexander</a></td>
                    <td>75</td>
                    <td>Republican</td>
                    <td>Tennessee (Sr.)</td>
                </tr>
                <tr>
                    <td><a href='/senator/id/2'>Michael</a></td>
                    <td><a href='/senator/id/2'>Enzi</a></td>
                    <td>71</td>
                    <td>Republican</td>
                    <td>Wyoming (Sr.)</td>
                </tr>
                <tr>
                    <td><a href='/senator/id/3'>Tammy</a></td>
                    <td><a href='/senator/id/3'>Baldwin</a></td>
                    <td>53</td>
                    <td>Democrat</td>
                    <td>Wisconsin (Jr.)</td>
                </tr>
            </tbody>
        </table>
    </div> -->
</div>
<script type="text/babel">

var cols = [
    { key: 'firstName', label: 'First Name' },
    { key: 'lastName', label: 'Last Name' },
    { key: 'age', label: 'Age' },
    { key: 'party', label: 'Party' },
    { key: 'state', label: 'State' }
];

var data = [
    { id: 1, firstName: 'Lamar', lastName: 'Alexander', age: '75', party: 'Republican', state: 'Tennessee (Sr.)' },
    { id: 2, firstName: 'Michael', lastName: 'Enzi', age: '71', party: 'Republican', state: 'Wyoming (Sr.)' },
    { id: 3, firstName: 'Tammy', lastName: 'Baldwin', age: '53', party: 'Democrat', state: 'Wisconsin (Sr.)' },
    
]; //Json Data

var Table = React.createClass({
    render: function() {
        var headerComponents = this.generateHeaders(),
            rowComponents = this.generateRows();

        return (
            <table className="table table-striped">
                <thead> <tr> {headerComponents} </tr> </thead>
                <tbody> {rowComponents} </tbody>
            </table>
        );
    },

    generateHeaders: function() {
        var cols = this.props.cols;  // [{key, label}]

        return cols.map(function(colData) {
            return <th key={colData.key}> {colData.label} </th>;
        });
    },

    generateRows: function() {
        var cols = this.props.cols,  // [{key, label}]
            data = this.props.data;

        return data.map(function(item) {
            var cells = cols.map(function(colData) {
                if(colData.key == "firstName" || colData.key == "lastName"){
                    var link = "/senator/id/";
                    link = link.concat(item["id"]);
                    return <td><a href={link}>{item[colData.key]}</a></td>
                }
                else
                    return <td> {item[colData.key]} </td>;
            });
            return <tr key={item.id}> {cells} </tr>;
        });
    }
});

React.render(<Table cols={cols} data={data}/>, document.getElementById('senate'));

</script>
{% endblock %}
