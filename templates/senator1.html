{% extends "base.html" %}
{% block head %}
{{ super() }}
{% endblock %}


{% block body %}
	<div class="container" >
        <div class="row">
            <div class="col-lg-8" id = "senate1">
            	
            </div>
        </div>                
	</div>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
					</script>
<script type="text/babel">
	var data = [{
bio_guide: "B001236",
birthday: "1950-12-10",
chamber: "Senate",
committees: [
{
chair: {},
chamber: "senate",
committee_id: "SSAP16",
id: 19,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Appropriations",
website: "http://appropriations.senate.gov/"
},
{
chair: { },
chamber: "joint",
committee_id: "JCSE",
id: 21,
is_subcommittee: false,
jurisdiction: null,
name: "Commission on Security and Cooperation in Europe",
website: "http://www.csce.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAF13",
id: 22,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Agriculture, Nutrition, and Forestry",
website: "http://agriculture.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAF14",
id: 27,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Agriculture, Nutrition, and Forestry",
website: "http://agriculture.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAP23",
id: 71,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Appropriations",
website: "http://appropriations.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSEV15",
id: 73,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Environment and Public Works",
website: "http://epw.senate.gov/"
},
{
chair: { },
chamber: "joint",
committee_id: "JSPR",
id: 122,
is_subcommittee: false,
jurisdiction: null,
name: "Joint Committee on Printing",
website: "https://cha.house.gov/jointcommittees/joint-committee-on-printing"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAP19",
id: 132,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Appropriations",
website: "http://appropriations.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAF16",
id: 143,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Agriculture, Nutrition, and Forestry",
website: "http://agriculture.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAF",
id: 173,
is_subcommittee: false,
jurisdiction: null,
name: "Senate Committee on Agriculture, Nutrition, and Forestry",
website: "http://agriculture.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAP",
id: 174,
is_subcommittee: false,
jurisdiction: null,
name: "Senate Committee on Appropriations",
website: "http://appropriations.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSEV",
id: 179,
is_subcommittee: false,
jurisdiction: null,
name: "Senate Committee on Environment and Public Works",
website: "http://epw.senate.gov/"
},
{
chair: { },
chamber: "senate",
committee_id: "SSRA",
id: 185,
is_subcommittee: false,
jurisdiction: null,
name: "Senate Committee on Rules and Administration",
website: "http://rules.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSVA",
id: 189,
is_subcommittee: false,
jurisdiction: null,
name: "Senate Committee on Veterans' Affairs",
website: "http://veterans.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAP20",
id: 199,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Appropriations",
website: "http://appropriations.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSEV09",
id: 202,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Environment and Public Works",
website: "http://epw.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSEV08",
id: 217,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Environment and Public Works",
website: "http://epw.senate.gov/"
},
{
chair: {},
chamber: "senate",
committee_id: "SSAP24",
id: 221,
is_subcommittee: true,
jurisdiction: null,
name: "Senate Committee on Appropriations",
website: "http://appropriations.senate.gov/"
}
],
contact_form: "http://www.boozman.senate.gov/public/index.cfm/e-mail-me",
first_name: "John",
gender: "male",
id: 1,
image: "https://raw.githubusercontent.com/unitedstates/images/gh-pages/congress/450x550/B001236.jpg",
last_name: "Boozman",
party: "Republican",
state: "AR",
twitter: "JohnBoozman",
votes: [],
website: "http://www.boozman.senate.gov"
}]; //Json Data

	var Table = React.createClass({
	    getInitialState: function(){
	        return {data: [ 
	]}
	    },
	    /*loadData: function(){
	        $.ajax({
	            url: '/daotao/lops',
	            success: function(data){
	                this.setState({data: data.lops});
	            }.bind(this)
	        })
	    },
	    componentWillMount: function(){
	        this.loadData();
	    },*/ 
	    componentDidMount: function(){
	        var self = this;
	        $('#mytable').dataTable({
	          "bAutoWidth": false,
	          "bDestroy": true,     
	          "fnDrawCallback": function() {                
	                self.forceUpdate();         
	          }, 
	        });
	    },
	    componentDidUpdate: function(){
	        $('#mytable').dataTable({
	          "bAutoWidth": false,
	          "bDestroy": true, 
	        });
	    },
	    render: function(){
	    	var person = this.props.data[0];
	    	var committeesList = person.committees.map(function(d, index){
            return <li>{d.name}</li>
        	});
	        
	        return (
	        	<section>
	                <h1> {person["first_name"]} {person["last_name"]} </h1>
	                <hr />
	                <img className="img-responsive" id="person-picture" src={person["image"]} alt="" />
	                <div className="person-text">
	                	<p className="lead"><b>Fullname:</b> {person["first_name"]} {person["last_name"]}</p>
	                	<p className="lead"><b>Birthday:</b> {person["birthday"]}</p>
	                	<p className="lead"><b>Gender  :</b> {person["gender"]}</p>
	                	<p className="lead"><b>Chamber :</b> {person["chamber"]} (Sr.)</p>
	                	<p className="lead"><b>State   :</b> {person["state"]}</p>
	                	<p className="lead"><b>Party   :</b> {person["party"]}</p> 
	                	<p className="lead"><a href= {person["website"]}><b>Website</b></a></p>
	                </div>
                <div id="committee-list">
                	<br />
                	<hr />
                	<h2>Committee Membership</h2>
                	<ul>
                		{committeesList}
                	</ul>
                	<hr />      
                </div>

                <div className="twitter">
                	<a className="twitter-timeline" href={"https://twitter.com/" + person["twitter"]} data-widget-id="656630196540301312" data-screen-name={person["twitter"]}>Tweets by @{person["twitter"]}</a>
                </div>
                <hr />
	            </section>
	        )       
	    }
	 });

	React.render(<Table data={data}/>, document.getElementById('senate1'));

</script>
{% endblock %}
